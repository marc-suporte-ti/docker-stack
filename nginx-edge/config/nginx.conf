#user  nobody;
worker_processes  auto;
worker_rlimit_nofile 65535;

pid        /run/nginx.pid;

    
    error_log  /var/log/nginx/error.log;
    
#error_log  logs/error.log  notice;
#error_log  logs/error.log  info;


events {
	multi_accept on;
	worker_connections 65535;
}
stream {
    
}




http {
    include       mime.types;
    include       ____block_ips.conf;
    default_type  application/octet-stream;
    #client_body_in_file_only on; $request_body_file
    log_format  main  escape=json '{'
        ' "time": "$time_local",'
        ' "request_id": "$request_id",'
        ' "request_method": "$request_method",'
        ' "scheme": "$scheme",'

        ' "uri": "$uri",'

        ' "request_filename": "$request_filename",'
        
        
        ' "status": "$status",'                
        ' "http_x_real_ip": "$http_x_real_ip",'
        ' "realip_remote_addr": "$http_cf_connecting_ip",'
        ' "proxy_add_x_forwarded_for": "$proxy_add_x_forwarded_for",'
        ' "http_x_forwarded_for": "$http_x_forwarded_for",'        
        ' "remote_addr": "$remote_addr",'        
        ' "remote_user": "$remote_user",'
        ' "host": "$host",'
        ' "http_name":"$http_name",'
        ' "cookie_name":"$cookie_name",'
        ' "query_string":"$query_string",'
        ' "tcpinfo_rtt":"$tcpinfo_rtt",'

        ' "bytes_sent": $bytes_sent,'
        ' "body_bytes_sent": $body_bytes_sent,'
        ' "request_length": $request_length,'

        ' "http_x_assets_host": "$http_x_assets_host",'

        ' "http_cf-ipcountry": "$http_cf_ipcountry",'

        ' "request_body": "$request_body",'
        

        ' "request_time": $request_time,'
        ' "request": "$request", '        
        ' "http_header":"$http_header",'
        ' "http_referer": "$http_referer",'
        ' "http_user_agent": "$http_user_agent",'
        ' "remote_user": "$remote_user",'
        ' "server_name": "$server_name",'
        ' "http_range":"$http_range",'
        ' "connection":"$connection",'
        ' "connection_requests":"$connection_requests",'
        ' "upstream_addr":          "$upstream_addr",'
        ' "upstream_status":        "$upstream_status",'
        ' "upstream_header_time":   "$upstream_header_time",'
        ' "upstream_cache_status":  "$upstream_cache_status",'
        ' "upstream_connect_time":  "$upstream_connect_time",'
        ' "upstream_cookie_name":   "$upstream_cookie_name",'
        ' "upstream_response_time": "$upstream_response_time",'
        ' "msec": $msec'
        ' } ';

    
    access_log  /var/log/nginx/access.log  main;
    


    charset utf-8;
	sendfile on;
	tcp_nopush on;
	tcp_nodelay on;
	server_tokens off;
	log_not_found on;
	types_hash_max_size 2048;
	client_max_body_size 20M;

    #proxy_cache_path /tmp/cache keys_zone=mycache:30m levels=1:2 inactive=180s;
                                   
    #map $request_method $purge_method {
    #    PURGE 1;
    #    default 0;
    #}
                                   
    gzip                  on;
    gzip_proxied         any;
    gzip_comp_level        6;
    gzip_min_length      256;
    gzip_vary             on;
    gzip_disable         “MSIE [1-6]\.(?!.*SV1)”;

      gzip_types
        application/atom+xml
        application/javascript
        application/json
        application/ld+json
        application/manifest+json
        application/rss+xml
        application/vnd.geo+json
        application/vnd.ms-fontobject
        # application/x-font-ttf
        application/x-web-app-manifest+json
        application/xhtml+xml
        application/xml
        font/opentype
        image/bmp
        image/svg+xml
        image/x-icon
        text/cache-manifest
        text/xml
        text/css
        text/plain
        text/vcard
        text/vnd.rim.location.xloc
        text/vtt
        text/x-component
        text/x-cross-domain-policy;

   

    pagespeed off;
    pagespeed GlobalStatisticsPath /ngx_pagespeed_global_statistics;
    pagespeed GlobalAdminPath /pagespeed_global_admin;
    pagespeed RewriteLevel OptimizeForBandwidth;
    #pagespeed ForceCaching on;
    pagespeed StatisticsLoggingIntervalMs 3600000;
    pagespeed StatisticsLoggingMaxFileSizeKb 4096;
    pagespeed FileCachePath /var/ngx_pagespeed_cache;
    pagespeed MessagesPath /var/ngx_pagespeed_message;
    pagespeed ConsolePath /var/pagespeed_console;
    pagespeed AdminPath /var/pagespeed_admin;
    
    proxy_redirect          off;
    proxy_set_header        Host                $host;
    proxy_set_header        X-Real-IP           $http_x_forwarded_for;
    proxy_set_header        X-Forwarded-For     $proxy_add_x_forwarded_for;
    proxy_connect_timeout   600;
    proxy_send_timeout      600;
    proxy_read_timeout      600;
    proxy_buffers         32 64k;  # Buffer pool = 32 buffers of 64k
    proxy_buffer_size     64k;    # 64k of buffers from pool used for headers  
    proxy_busy_buffers_size 64k;


    #############################################################
    #
    #        INCLUDES
    #
    #############################################################


    include ____gago.conf;

    include ____tati.conf;


    #############################################################
    #
    #        HTTP
    #
    #############################################################



    #############################################################
    # HTTP binds for Container gago_io
    #############################################################
    server { 
        
        #Port to Mapping
        listen 80; 
        
        #Response for these domains
        server_name  cdn.gago.io;
        
        #Begin Extensions        
            pagespeed off;
            add_header Feedback gago_io;
            add_header 'Access-Control-Allow-Origin' '*' ;
            add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS' ;
            add_header 'Access-Control-Allow-Headers' 'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Content-Range,Range' ;
            add_header 'Access-Control-Max-Age' '1728000' ;
            add_header  'X-NGINX-REDIRECT' 'false';
            pagespeed EnableCachePurge on;
            pagespeed RewriteLevel CoreFilters;
            pagespeed RewriteLevel OptimizeForBandwidth;
            pagespeed EnableFilters inline_javascript,prioritize_critical_css,inline_preview_images,insert_image_dimensions;
            pagespeed EnableFilters insert_dns_prefetch,local_storage_cache,rewrite_javascript;
            proxy_set_header Host gago.io;
            proxy_set_header X-Forwarded-Host gago.io;
            proxy_set_header X-Forwarded-Server gago.io;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_redirect http:// https://;
            gzip            on;

        #End Extensions

        if ($country_block_cloudflare) {
            return 403; 
        }

        

        

        #Default Location
        location / {            
            proxy_pass http://gago_io:80;
            #proxy_redirect                 off;
            

            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }
                                         
        location /basic_aklsjlkajslkajs_status {
            stub_status;
            access_log off;
        }
   

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
    
    }

    #############################################################
    # HTTP binds for Container dockerdefinitivo_com
    #############################################################
    server { 
        
        #Port to Mapping
        listen 80; 
        
        #Response for these domains
        server_name  dockerdefinitivo.com www.dockerdefinitivo.com;
        
        #Begin Extensions        
            pagespeed off;
            add_header Feedback dockerdefinitivo_com;
            pagespeed EnableCachePurge on;
            pagespeed RewriteLevel CoreFilters;
            pagespeed RewriteLevel OptimizeForBandwidth;
            pagespeed EnableFilters inline_javascript,prioritize_critical_css,inline_preview_images,insert_image_dimensions;
            pagespeed EnableFilters insert_dns_prefetch,local_storage_cache,rewrite_javascript;
            pagespeed EnableFilters recompress_png,convert_png_to_jpeg,convert_jpeg_to_webp;
            pagespeed Statistics on;
            pagespeed StatisticsLogging on;
            pagespeed StatisticsPath /pagespeed_statistics;
            pagespeed LogDir /var/ngx_pagespeed_log;
            pagespeed AdminPath /gago;
            pagespeed RunExperiment on;
            pagespeed FileCachePath              "/tmp/cache/";
            pagespeed FileCacheSizeKb            102400;
            pagespeed FileCacheCleanIntervalMs   3600000;
            pagespeed FileCacheInodeLimit        500000;
            pagespeed Disallow "*/amp";
            pagespeed Disallow "*/amp/";
            pagespeed Disallow "*/wp-admin/";
            pagespeed Disallow "*/wp-includes/";
            location ~ "\.pagespeed\.([a-z]\.)?[a-z]{2}\.[^.]{10}\.[^.]+" { add_header "" ""; }
            location ~ "^/pagespeed_static/" { }
            location ~ "^/ngx_pagespeed_beacon$" { }
            gzip on;

        #End Extensions

        if ($country_block_cloudflare) {
            return 403; 
        }

        

        

        #Default Location
        location / {            
            proxy_pass http://dockerdefinitivo_com:80;
            #proxy_redirect                 off;
                        add_header  X-NGINX-REDIRECT  true;
            return 307 https://dockerdefinitivo.com$request_uri;


            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }
                                         
        location /basic_aklsjlkajslkajs_status {
            stub_status;
            access_log off;
        }
   

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
    
    }

    #############################################################
    # HTTP binds for Container maratona_gago_io
    #############################################################
    server { 
        
        #Port to Mapping
        listen 80; 
        
        #Response for these domains
        server_name  maratona.gago.io www.maratona.gago.io;
        
        #Begin Extensions        
            pagespeed off;
            add_header Feedback maratona_gago_io;
            pagespeed EnableCachePurge on;
            pagespeed RewriteLevel CoreFilters;
            pagespeed RewriteLevel OptimizeForBandwidth;
            pagespeed EnableFilters inline_javascript,prioritize_critical_css,inline_preview_images,insert_image_dimensions;
            pagespeed EnableFilters insert_dns_prefetch,local_storage_cache,rewrite_javascript;
            pagespeed EnableFilters recompress_png,convert_png_to_jpeg,convert_jpeg_to_webp;
            pagespeed Statistics on;
            pagespeed StatisticsLogging on;
            pagespeed StatisticsPath /pagespeed_statistics;
            pagespeed LogDir /var/ngx_pagespeed_log;
            pagespeed AdminPath /gago;
            pagespeed RunExperiment on;
            pagespeed FileCachePath              "/tmp/cache/";
            pagespeed FileCacheSizeKb            102400;
            pagespeed FileCacheCleanIntervalMs   3600000;
            pagespeed FileCacheInodeLimit        500000;
            pagespeed Disallow "*/amp";
            pagespeed Disallow "*/amp/";
            pagespeed Disallow "*/wp-admin/";
            pagespeed Disallow "*/wp-includes/";
            location ~ "\.pagespeed\.([a-z]\.)?[a-z]{2}\.[^.]{10}\.[^.]+" { add_header "" ""; }
            location ~ "^/pagespeed_static/" { }
            location ~ "^/ngx_pagespeed_beacon$" { }
            gzip on;

        #End Extensions

        if ($country_block_cloudflare) {
            return 403; 
        }

        

        

        #Default Location
        location / {            
            proxy_pass http://maratona_gago_io:80;
            #proxy_redirect                 off;
                        add_header  X-NGINX-REDIRECT  true;
            return 307 https://maratona.gago.io$request_uri;


            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }
                                         
        location /basic_aklsjlkajslkajs_status {
            stub_status;
            access_log off;
        }
   

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
    
    }

    #############################################################
    # HTTP binds for Container analytics
    #############################################################
    server { 
        
        #Port to Mapping
        listen 80; 
        
        #Response for these domains
        server_name  analytics.gago.io;
        
        #Begin Extensions        

        #End Extensions

        if ($country_block_cloudflare) {
            return 403; 
        }

        

        

        #Default Location
        location / {            
            proxy_pass http://analytics:80;
            #proxy_redirect                 off;
                        pagespeed off;
            return 307 https://analytics.gago.io$request_uri;


            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }
                                         
        location /basic_aklsjlkajslkajs_status {
            stub_status;
            access_log off;
        }
   

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
    
    }

    #############################################################
    # HTTP binds for Container oragon_io
    #############################################################
    server { 
        
        #Port to Mapping
        listen 80; 
        
        #Response for these domains
        server_name  oragon.io www.oragon.io;
        
        #Begin Extensions        

        #End Extensions

        if ($country_block_cloudflare) {
            return 403; 
        }

        

        

        #Default Location
        location / {            
            proxy_pass http://oragon_io:80;
            #proxy_redirect                 off;
            

            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }
                                         
        location /basic_aklsjlkajslkajs_status {
            stub_status;
            access_log off;
        }
   

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
    
    }

    #############################################################
    # HTTP binds for Container jornada_gago_io
    #############################################################
    server { 
        
        #Port to Mapping
        listen 80; 
        
        #Response for these domains
        server_name  jornada.gago.io;
        
        #Begin Extensions        

        #End Extensions

        if ($country_block_cloudflare) {
            return 403; 
        }

        

        

        #Default Location
        location / {            
            proxy_pass http://jornada_gago_io:80;
            #proxy_redirect                 off;
            

            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }
                                         
        location /basic_aklsjlkajslkajs_status {
            stub_status;
            access_log off;
        }
   

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
    
    }

    #############################################################
    # HTTP binds for Container harbor_proxy
    #############################################################
    server { 
        
        #Port to Mapping
        listen 80; 
        
        #Response for these domains
        server_name  registry.oragon.io;
        
        #Begin Extensions        

        #End Extensions

        if ($country_block_cloudflare) {
            return 403; 
        }

        

        

        #Default Location
        location / {            
            proxy_pass http://harbor_proxy:8080;
            #proxy_redirect                 off;
                        proxy_set_header Host $Host;


            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }
                                         
        location /basic_aklsjlkajslkajs_status {
            stub_status;
            access_log off;
        }
   

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
    
    }

    #############################################################
    # HTTP binds for Container sonarqube_app
    #############################################################
    server { 
        
        #Port to Mapping
        listen 80; 
        
        #Response for these domains
        server_name  sonar.oragon.io;
        
        #Begin Extensions        
            add_header Feedback quality_sonarqube_app;

        #End Extensions

        if ($country_block_cloudflare) {
            return 403; 
        }

        

        

        #Default Location
        location / {            
            proxy_pass http://sonarqube_app:9000;
            #proxy_redirect                 off;
            

            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }
                                         
        location /basic_aklsjlkajslkajs_status {
            stub_status;
            access_log off;
        }
   

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
    
    }

    #############################################################
    # HTTP binds for Container api_gago_io
    #############################################################
    server { 
        
        #Port to Mapping
        listen 80; 
        
        #Response for these domains
        server_name  api.gago.io;
        
        #Begin Extensions        
            add_header Feedback api_gago_io;
            gzip on;

        #End Extensions

        if ($country_block_cloudflare) {
            return 403; 
        }

        

        

        #Default Location
        location / {            
            proxy_pass http://api_gago_io:80;
            #proxy_redirect                 off;
                        return 307 https://api.gago.io$request_uri;


            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }
                                         
        location /basic_aklsjlkajslkajs_status {
            stub_status;
            access_log off;
        }
   

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
    
    }

    #############################################################
    # HTTP binds for Container app_gago_io
    #############################################################
    server { 
        
        #Port to Mapping
        listen 80; 
        
        #Response for these domains
        server_name  app.gago.io;
        
        #Begin Extensions        
            add_header Feedback app_gago_io;
            gzip off;

        #End Extensions

        if ($country_block_cloudflare) {
            return 403; 
        }

        

        

        #Default Location
        location / {            
            proxy_pass http://app_gago_io:80;
            #proxy_redirect                 off;
                        return 307 https://app.gago.io$request_uri;


            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }
                                         
        location /basic_aklsjlkajslkajs_status {
            stub_status;
            access_log off;
        }
   

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
    
    }

    #############################################################
    # HTTP binds for Container tribo_dev_br
    #############################################################
    server { 
        
        #Port to Mapping
        listen 80; 
        
        #Response for these domains
        server_name  tribo.dev.br www.tribo.dev.br;
        
        #Begin Extensions        

        #End Extensions

        if ($country_block_cloudflare) {
            return 403; 
        }

        

        

        #Default Location
        location / {            
            proxy_pass http://tribo_dev_br:80;
            #proxy_redirect                 off;
            

            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }
                                         
        location /basic_aklsjlkajslkajs_status {
            stub_status;
            access_log off;
        }
   

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
    
    }
    


    #############################################################
    #
    #        HTTPS
    #
    #############################################################



    #############################################################
    # HTTPS binds for Container gago_io
    #############################################################
    server { 

        #Port to Mapping

        
        listen 443 ssl; 
        

        #Response for these domains
        server_name  cdn.gago.io;

        ssl_certificate             /cert/_/fullchain.pem;
        ssl_certificate_key         /cert/_/privkey.pem;
        ssl_trusted_certificate     /cert/_/fullchain.pem;
        ssl_protocols               TLSv1.2;
        ssl_prefer_server_ciphers   on;
        ssl_ciphers                 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA';        
        ssl_session_timeout         1d;
        ssl_session_cache           shared:SSL:50m;
        ssl_session_tickets         off;
        ssl_stapling                on;
        ssl_stapling_verify         on;


        #ssl_certificate             /cert/_/fullchain.pem;
        #ssl_certificate_key         /cert/_/privkey.pem;
        #ssl_trusted_certificate     /cert/_/fullchain.pem;
        #ssl_protocols               TLSv1.2 TLSv1.3;
        #ssl_ciphers                 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384';
        #ssl_session_timeout         1d;
        #ssl_session_cache           shared:SSL:10m;
        #ssl_session_tickets         off;
        #ssl_stapling                on;
        #ssl_stapling_verify         on;


        add_header Strict-Transport-Security max-age=31536000;

        #Begin Extensions        
            pagespeed off;
            add_header Feedback gago_io;
            add_header 'Access-Control-Allow-Origin' '*' ;
            add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS' ;
            add_header 'Access-Control-Allow-Headers' 'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Content-Range,Range' ;
            add_header 'Access-Control-Max-Age' '1728000' ;
            add_header  'X-NGINX-REDIRECT' 'false';
            pagespeed EnableCachePurge on;
            pagespeed RewriteLevel CoreFilters;
            pagespeed RewriteLevel OptimizeForBandwidth;
            pagespeed EnableFilters inline_javascript,prioritize_critical_css,inline_preview_images,insert_image_dimensions;
            pagespeed EnableFilters insert_dns_prefetch,local_storage_cache,rewrite_javascript;
            proxy_set_header Host gago.io;
            proxy_set_header X-Forwarded-Host gago.io;
            proxy_set_header X-Forwarded-Server gago.io;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_redirect http:// https://;
            gzip            on;

        #End Extensions
        
        if ($country_block_cloudflare) {
            return 403; 
        }

            
       

        #Default Location
        location / {            
            proxy_pass http://gago_io:80;
            #proxy_redirect                 off;
                        pagespeed off;
            proxy_redirect http:// https://;

            
            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
        
    }
    
    #############################################################
    # HTTPS binds for Container dockerdefinitivo_com
    #############################################################
    server { 

        #Port to Mapping

        
        listen 443 ssl http2;
        

        #Response for these domains
        server_name  dockerdefinitivo.com www.dockerdefinitivo.com;

        ssl_certificate             /cert/_/fullchain.pem;
        ssl_certificate_key         /cert/_/privkey.pem;
        ssl_trusted_certificate     /cert/_/fullchain.pem;
        ssl_protocols               TLSv1.2;
        ssl_prefer_server_ciphers   on;
        ssl_ciphers                 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA';        
        ssl_session_timeout         1d;
        ssl_session_cache           shared:SSL:50m;
        ssl_session_tickets         off;
        ssl_stapling                on;
        ssl_stapling_verify         on;


        #ssl_certificate             /cert/_/fullchain.pem;
        #ssl_certificate_key         /cert/_/privkey.pem;
        #ssl_trusted_certificate     /cert/_/fullchain.pem;
        #ssl_protocols               TLSv1.2 TLSv1.3;
        #ssl_ciphers                 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384';
        #ssl_session_timeout         1d;
        #ssl_session_cache           shared:SSL:10m;
        #ssl_session_tickets         off;
        #ssl_stapling                on;
        #ssl_stapling_verify         on;


        add_header Strict-Transport-Security max-age=31536000;

        #Begin Extensions        
            pagespeed off;
            add_header Feedback dockerdefinitivo_com;
            pagespeed EnableCachePurge on;
            pagespeed RewriteLevel CoreFilters;
            pagespeed RewriteLevel OptimizeForBandwidth;
            pagespeed EnableFilters inline_javascript,prioritize_critical_css,inline_preview_images,insert_image_dimensions;
            pagespeed EnableFilters insert_dns_prefetch,local_storage_cache,rewrite_javascript;
            pagespeed EnableFilters recompress_png,convert_png_to_jpeg,convert_jpeg_to_webp;
            pagespeed Statistics on;
            pagespeed StatisticsLogging on;
            pagespeed StatisticsPath /pagespeed_statistics;
            pagespeed LogDir /var/ngx_pagespeed_log;
            pagespeed AdminPath /gago;
            pagespeed RunExperiment on;
            pagespeed FileCachePath              "/tmp/cache/";
            pagespeed FileCacheSizeKb            102400;
            pagespeed FileCacheCleanIntervalMs   3600000;
            pagespeed FileCacheInodeLimit        500000;
            pagespeed Disallow "*/amp";
            pagespeed Disallow "*/amp/";
            pagespeed Disallow "*/wp-admin/";
            pagespeed Disallow "*/wp-includes/";
            location ~ "\.pagespeed\.([a-z]\.)?[a-z]{2}\.[^.]{10}\.[^.]+" { add_header "" ""; }
            location ~ "^/pagespeed_static/" { }
            location ~ "^/ngx_pagespeed_beacon$" { }
            gzip on;

        #End Extensions
        
        if ($country_block_cloudflare) {
            return 403; 
        }

        location /xmlrpc.php {
            return 404;
            
        }
            
       

        #Default Location
        location / {            
            proxy_pass http://dockerdefinitivo_com:80;
            #proxy_redirect                 off;
                        add_header     X-NGINX-REDIRECT false;
            proxy_set_header Host $host;
            proxy_set_header X-Forwarded-Host $host;
            proxy_set_header X-Forwarded-Server $host;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_redirect http:// https://;

            
            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
        
    }
    
    server {
        listen 80;
        server_name  dockerdefinitivo.com www.dockerdefinitivo.com;

        if ($country_block_cloudflare) {
            return 403; 
        }
        return 307 https://$server_name$request_uri;
    }               
    

    #############################################################
    # HTTPS binds for Container maratona_gago_io
    #############################################################
    server { 

        #Port to Mapping

        
        listen 443 ssl http2;
        

        #Response for these domains
        server_name  maratona.gago.io www.maratona.gago.io;

        ssl_certificate             /cert/_/fullchain.pem;
        ssl_certificate_key         /cert/_/privkey.pem;
        ssl_trusted_certificate     /cert/_/fullchain.pem;
        ssl_protocols               TLSv1.2;
        ssl_prefer_server_ciphers   on;
        ssl_ciphers                 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA';        
        ssl_session_timeout         1d;
        ssl_session_cache           shared:SSL:50m;
        ssl_session_tickets         off;
        ssl_stapling                on;
        ssl_stapling_verify         on;


        #ssl_certificate             /cert/_/fullchain.pem;
        #ssl_certificate_key         /cert/_/privkey.pem;
        #ssl_trusted_certificate     /cert/_/fullchain.pem;
        #ssl_protocols               TLSv1.2 TLSv1.3;
        #ssl_ciphers                 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384';
        #ssl_session_timeout         1d;
        #ssl_session_cache           shared:SSL:10m;
        #ssl_session_tickets         off;
        #ssl_stapling                on;
        #ssl_stapling_verify         on;


        add_header Strict-Transport-Security max-age=31536000;

        #Begin Extensions        
            pagespeed off;
            add_header Feedback maratona_gago_io;
            pagespeed EnableCachePurge on;
            pagespeed RewriteLevel CoreFilters;
            pagespeed RewriteLevel OptimizeForBandwidth;
            pagespeed EnableFilters inline_javascript,prioritize_critical_css,inline_preview_images,insert_image_dimensions;
            pagespeed EnableFilters insert_dns_prefetch,local_storage_cache,rewrite_javascript;
            pagespeed EnableFilters recompress_png,convert_png_to_jpeg,convert_jpeg_to_webp;
            pagespeed Statistics on;
            pagespeed StatisticsLogging on;
            pagespeed StatisticsPath /pagespeed_statistics;
            pagespeed LogDir /var/ngx_pagespeed_log;
            pagespeed AdminPath /gago;
            pagespeed RunExperiment on;
            pagespeed FileCachePath              "/tmp/cache/";
            pagespeed FileCacheSizeKb            102400;
            pagespeed FileCacheCleanIntervalMs   3600000;
            pagespeed FileCacheInodeLimit        500000;
            pagespeed Disallow "*/amp";
            pagespeed Disallow "*/amp/";
            pagespeed Disallow "*/wp-admin/";
            pagespeed Disallow "*/wp-includes/";
            location ~ "\.pagespeed\.([a-z]\.)?[a-z]{2}\.[^.]{10}\.[^.]+" { add_header "" ""; }
            location ~ "^/pagespeed_static/" { }
            location ~ "^/ngx_pagespeed_beacon$" { }
            gzip on;

        #End Extensions
        
        if ($country_block_cloudflare) {
            return 403; 
        }

        location /xmlrpc.php {
            return 404;
            
        }
            
       

        #Default Location
        location / {            
            proxy_pass http://maratona_gago_io:80;
            #proxy_redirect                 off;
                        add_header     X-NGINX-REDIRECT false;
            proxy_set_header Host $host;
            proxy_set_header X-Forwarded-Host $host;
            proxy_set_header X-Forwarded-Server $host;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_redirect http:// https://;

            
            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
        
    }
    
    server {
        listen 80;
        server_name  maratona.gago.io www.maratona.gago.io;

        if ($country_block_cloudflare) {
            return 403; 
        }
        return 307 https://$server_name$request_uri;
    }               
    

    #############################################################
    # HTTPS binds for Container analytics
    #############################################################
    server { 

        #Port to Mapping

        
        listen 443 ssl; 
        

        #Response for these domains
        server_name  analytics.gago.io;

        ssl_certificate             /cert/_/fullchain.pem;
        ssl_certificate_key         /cert/_/privkey.pem;
        ssl_trusted_certificate     /cert/_/fullchain.pem;
        ssl_protocols               TLSv1.2;
        ssl_prefer_server_ciphers   on;
        ssl_ciphers                 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA';        
        ssl_session_timeout         1d;
        ssl_session_cache           shared:SSL:50m;
        ssl_session_tickets         off;
        ssl_stapling                on;
        ssl_stapling_verify         on;


        #ssl_certificate             /cert/_/fullchain.pem;
        #ssl_certificate_key         /cert/_/privkey.pem;
        #ssl_trusted_certificate     /cert/_/fullchain.pem;
        #ssl_protocols               TLSv1.2 TLSv1.3;
        #ssl_ciphers                 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384';
        #ssl_session_timeout         1d;
        #ssl_session_cache           shared:SSL:10m;
        #ssl_session_tickets         off;
        #ssl_stapling                on;
        #ssl_stapling_verify         on;


        add_header Strict-Transport-Security max-age=31536000;

        #Begin Extensions        

        #End Extensions
        
        if ($country_block_cloudflare) {
            return 403; 
        }

            
       

        #Default Location
        location / {            
            proxy_pass http://analytics:80;
            #proxy_redirect                 off;
                        pagespeed off;
            proxy_redirect http:// https://;

            
            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
        
    }
    
    #############################################################
    # HTTPS binds for Container oragon_io
    #############################################################
    server { 

        #Port to Mapping

        
        listen 443 ssl; 
        

        #Response for these domains
        server_name  oragon.io www.oragon.io;

        ssl_certificate             /cert/_/fullchain.pem;
        ssl_certificate_key         /cert/_/privkey.pem;
        ssl_trusted_certificate     /cert/_/fullchain.pem;
        ssl_protocols               TLSv1.2;
        ssl_prefer_server_ciphers   on;
        ssl_ciphers                 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA';        
        ssl_session_timeout         1d;
        ssl_session_cache           shared:SSL:50m;
        ssl_session_tickets         off;
        ssl_stapling                on;
        ssl_stapling_verify         on;


        #ssl_certificate             /cert/_/fullchain.pem;
        #ssl_certificate_key         /cert/_/privkey.pem;
        #ssl_trusted_certificate     /cert/_/fullchain.pem;
        #ssl_protocols               TLSv1.2 TLSv1.3;
        #ssl_ciphers                 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384';
        #ssl_session_timeout         1d;
        #ssl_session_cache           shared:SSL:10m;
        #ssl_session_tickets         off;
        #ssl_stapling                on;
        #ssl_stapling_verify         on;


        add_header Strict-Transport-Security max-age=31536000;

        #Begin Extensions        

        #End Extensions
        
        if ($country_block_cloudflare) {
            return 403; 
        }

            
       

        #Default Location
        location / {            
            proxy_pass http://oragon_io:80;
            #proxy_redirect                 off;
                        proxy_set_header Accept-Encoding "";
            proxy_set_header Host oragon.io;
            subs_filter_types text/html text/css text/xml application/javascript text/javascript application/json;
            subs_filter http:\/\/                                https:\/\/;
            subs_filter http://$host                               https://oragon.io;
            subs_filter http%3A%2F%2Foragon.io                       https%3A%2F%2Foragon.io;
            subs_filter http://downloads.brainstormforce.com       https://downloads.brainstormforce.com;
            subs_filter http://fonts.googleapis.com                https://fonts.googleapis.com;
            subs_filter http://www.youtube.com                     https://www.youtube.com;
            subs_filter http://jetpack.wordpress.com               https://jetpack.wordpress.com;
            subs_filter http(s)?://(s|0|1|2|3).gravatar.com        https://$2.gravatar.com ir;
            subs_filter http(s)?://(s0|s1|s2|s3).wp.com            https://$2.wp.com ir;
            subs_filter http(s)?://luizcarlosfaria.net https://oragon.io ir;

            
            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
        
    }
    
    #############################################################
    # HTTPS binds for Container jornada_gago_io
    #############################################################
    server { 

        #Port to Mapping

        
        listen 443 ssl; 
        

        #Response for these domains
        server_name  jornada.gago.io;

        ssl_certificate             /cert/_/fullchain.pem;
        ssl_certificate_key         /cert/_/privkey.pem;
        ssl_trusted_certificate     /cert/_/fullchain.pem;
        ssl_protocols               TLSv1.2;
        ssl_prefer_server_ciphers   on;
        ssl_ciphers                 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA';        
        ssl_session_timeout         1d;
        ssl_session_cache           shared:SSL:50m;
        ssl_session_tickets         off;
        ssl_stapling                on;
        ssl_stapling_verify         on;


        #ssl_certificate             /cert/_/fullchain.pem;
        #ssl_certificate_key         /cert/_/privkey.pem;
        #ssl_trusted_certificate     /cert/_/fullchain.pem;
        #ssl_protocols               TLSv1.2 TLSv1.3;
        #ssl_ciphers                 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384';
        #ssl_session_timeout         1d;
        #ssl_session_cache           shared:SSL:10m;
        #ssl_session_tickets         off;
        #ssl_stapling                on;
        #ssl_stapling_verify         on;


        add_header Strict-Transport-Security max-age=31536000;

        #Begin Extensions        

        #End Extensions
        
        if ($country_block_cloudflare) {
            return 403; 
        }

            
       

        #Default Location
        location / {            
            proxy_pass http://jornada_gago_io:80;
            #proxy_redirect                 off;
            
            
            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
        
    }
    
    #############################################################
    # HTTPS binds for Container harbor_proxy
    #############################################################
    server { 

        #Port to Mapping

        
        listen 443 ssl; 
        

        #Response for these domains
        server_name  registry.oragon.io;

        ssl_certificate             /cert/_/fullchain.pem;
        ssl_certificate_key         /cert/_/privkey.pem;
        ssl_trusted_certificate     /cert/_/fullchain.pem;
        ssl_protocols               TLSv1.2;
        ssl_prefer_server_ciphers   on;
        ssl_ciphers                 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA';        
        ssl_session_timeout         1d;
        ssl_session_cache           shared:SSL:50m;
        ssl_session_tickets         off;
        ssl_stapling                on;
        ssl_stapling_verify         on;


        #ssl_certificate             /cert/_/fullchain.pem;
        #ssl_certificate_key         /cert/_/privkey.pem;
        #ssl_trusted_certificate     /cert/_/fullchain.pem;
        #ssl_protocols               TLSv1.2 TLSv1.3;
        #ssl_ciphers                 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384';
        #ssl_session_timeout         1d;
        #ssl_session_cache           shared:SSL:10m;
        #ssl_session_tickets         off;
        #ssl_stapling                on;
        #ssl_stapling_verify         on;


        add_header Strict-Transport-Security max-age=31536000;

        #Begin Extensions        

        #End Extensions
        
        if ($country_block_cloudflare) {
            return 403; 
        }

            
       

        #Default Location
        location / {            
            proxy_pass https://harbor_proxy:8443;
            #proxy_redirect                 off;
                        proxy_set_header Host $Host;
            client_max_body_size 0;

            
            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
        
    }
    
    server {
        listen 80;
        server_name  registry.oragon.io;

        if ($country_block_cloudflare) {
            return 403; 
        }
        return 307 https://$server_name$request_uri;
    }               
    

    #############################################################
    # HTTPS binds for Container sonarqube_app
    #############################################################
    server { 

        #Port to Mapping

        
        listen 443 ssl; 
        

        #Response for these domains
        server_name  sonar.oragon.io;

        ssl_certificate             /cert/_/fullchain.pem;
        ssl_certificate_key         /cert/_/privkey.pem;
        ssl_trusted_certificate     /cert/_/fullchain.pem;
        ssl_protocols               TLSv1.2;
        ssl_prefer_server_ciphers   on;
        ssl_ciphers                 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA';        
        ssl_session_timeout         1d;
        ssl_session_cache           shared:SSL:50m;
        ssl_session_tickets         off;
        ssl_stapling                on;
        ssl_stapling_verify         on;


        #ssl_certificate             /cert/_/fullchain.pem;
        #ssl_certificate_key         /cert/_/privkey.pem;
        #ssl_trusted_certificate     /cert/_/fullchain.pem;
        #ssl_protocols               TLSv1.2 TLSv1.3;
        #ssl_ciphers                 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384';
        #ssl_session_timeout         1d;
        #ssl_session_cache           shared:SSL:10m;
        #ssl_session_tickets         off;
        #ssl_stapling                on;
        #ssl_stapling_verify         on;


        add_header Strict-Transport-Security max-age=31536000;

        #Begin Extensions        
            add_header Feedback quality_sonarqube_app;

        #End Extensions
        
        if ($country_block_cloudflare) {
            return 403; 
        }

            
       

        #Default Location
        location / {            
            proxy_pass http://sonarqube_app:9002;
            #proxy_redirect                 off;
            
            
            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
        
    }
    
    #############################################################
    # HTTPS binds for Container keycloak
    #############################################################
    server { 

        #Port to Mapping

        
        listen 443 ssl; 
        

        #Response for these domains
        server_name  id.gago.io is.gago.io;

        ssl_certificate             /cert/_/fullchain.pem;
        ssl_certificate_key         /cert/_/privkey.pem;
        ssl_trusted_certificate     /cert/_/fullchain.pem;
        ssl_protocols               TLSv1.2;
        ssl_prefer_server_ciphers   on;
        ssl_ciphers                 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA';        
        ssl_session_timeout         1d;
        ssl_session_cache           shared:SSL:50m;
        ssl_session_tickets         off;
        ssl_stapling                on;
        ssl_stapling_verify         on;


        #ssl_certificate             /cert/_/fullchain.pem;
        #ssl_certificate_key         /cert/_/privkey.pem;
        #ssl_trusted_certificate     /cert/_/fullchain.pem;
        #ssl_protocols               TLSv1.2 TLSv1.3;
        #ssl_ciphers                 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384';
        #ssl_session_timeout         1d;
        #ssl_session_cache           shared:SSL:10m;
        #ssl_session_tickets         off;
        #ssl_stapling                on;
        #ssl_stapling_verify         on;


        add_header Strict-Transport-Security max-age=31536000;

        #Begin Extensions        
            add_header Feedback identity-server_keycloak;

        #End Extensions
        
        if ($country_block_cloudflare) {
            return 403; 
        }

            
       

        #Default Location
        location / {            
            proxy_pass https://keycloak:8443;
            #proxy_redirect                 off;
                        proxy_cache off;
            proxy_buffers         8 16k;
            proxy_buffer_size       16k;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
            gzip on;

            
            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
        
    }
    
    server {
        listen 80;
        server_name  id.gago.io is.gago.io;

        if ($country_block_cloudflare) {
            return 403; 
        }
        return 307 https://$server_name$request_uri;
    }               
    

    #############################################################
    # HTTPS binds for Container api_gago_io
    #############################################################
    server { 

        #Port to Mapping

        
        listen 443 ssl http2;
        

        #Response for these domains
        server_name  api.gago.io;

        ssl_certificate             /cert/_/fullchain.pem;
        ssl_certificate_key         /cert/_/privkey.pem;
        ssl_trusted_certificate     /cert/_/fullchain.pem;
        ssl_protocols               TLSv1.2;
        ssl_prefer_server_ciphers   on;
        ssl_ciphers                 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA';        
        ssl_session_timeout         1d;
        ssl_session_cache           shared:SSL:50m;
        ssl_session_tickets         off;
        ssl_stapling                on;
        ssl_stapling_verify         on;


        #ssl_certificate             /cert/_/fullchain.pem;
        #ssl_certificate_key         /cert/_/privkey.pem;
        #ssl_trusted_certificate     /cert/_/fullchain.pem;
        #ssl_protocols               TLSv1.2 TLSv1.3;
        #ssl_ciphers                 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384';
        #ssl_session_timeout         1d;
        #ssl_session_cache           shared:SSL:10m;
        #ssl_session_tickets         off;
        #ssl_stapling                on;
        #ssl_stapling_verify         on;


        add_header Strict-Transport-Security max-age=31536000;

        #Begin Extensions        
            add_header Feedback api_gago_io;
            gzip on;

        #End Extensions
        
        if ($country_block_cloudflare) {
            return 403; 
        }

            
       

        #Default Location
        location / {            
            proxy_pass http://api_gago_io:80;
            #proxy_redirect                 off;
                        proxy_pass_request_headers on;

            
            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
        
    }
    
    server {
        listen 80;
        server_name  api.gago.io;

        if ($country_block_cloudflare) {
            return 403; 
        }
        return 307 https://$server_name$request_uri;
    }               
    

    #############################################################
    # HTTPS binds for Container app_gago_io
    #############################################################
    server { 

        #Port to Mapping

        
        listen 443 ssl http2;
        

        #Response for these domains
        server_name  app.gago.io;

        ssl_certificate             /cert/_/fullchain.pem;
        ssl_certificate_key         /cert/_/privkey.pem;
        ssl_trusted_certificate     /cert/_/fullchain.pem;
        ssl_protocols               TLSv1.2;
        ssl_prefer_server_ciphers   on;
        ssl_ciphers                 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA';        
        ssl_session_timeout         1d;
        ssl_session_cache           shared:SSL:50m;
        ssl_session_tickets         off;
        ssl_stapling                on;
        ssl_stapling_verify         on;


        #ssl_certificate             /cert/_/fullchain.pem;
        #ssl_certificate_key         /cert/_/privkey.pem;
        #ssl_trusted_certificate     /cert/_/fullchain.pem;
        #ssl_protocols               TLSv1.2 TLSv1.3;
        #ssl_ciphers                 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384';
        #ssl_session_timeout         1d;
        #ssl_session_cache           shared:SSL:10m;
        #ssl_session_tickets         off;
        #ssl_stapling                on;
        #ssl_stapling_verify         on;


        add_header Strict-Transport-Security max-age=31536000;

        #Begin Extensions        
            add_header Feedback app_gago_io;
            gzip off;

        #End Extensions
        
        if ($country_block_cloudflare) {
            return 403; 
        }

            
       

        #Default Location
        location / {            
            proxy_pass http://app_gago_io:80;
            #proxy_redirect                 off;
            
            
            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
        
    }
    
    server {
        listen 80;
        server_name  app.gago.io;

        if ($country_block_cloudflare) {
            return 403; 
        }
        return 307 https://$server_name$request_uri;
    }               
    

    #############################################################
    # HTTPS binds for Container squidex_squidex_squidex
    #############################################################
    server { 

        #Port to Mapping

        
        listen 443 ssl; 
        

        #Response for these domains
        server_name  content.gago.io;

        ssl_certificate             /cert/_/fullchain.pem;
        ssl_certificate_key         /cert/_/privkey.pem;
        ssl_trusted_certificate     /cert/_/fullchain.pem;
        ssl_protocols               TLSv1.2;
        ssl_prefer_server_ciphers   on;
        ssl_ciphers                 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA';        
        ssl_session_timeout         1d;
        ssl_session_cache           shared:SSL:50m;
        ssl_session_tickets         off;
        ssl_stapling                on;
        ssl_stapling_verify         on;


        #ssl_certificate             /cert/_/fullchain.pem;
        #ssl_certificate_key         /cert/_/privkey.pem;
        #ssl_trusted_certificate     /cert/_/fullchain.pem;
        #ssl_protocols               TLSv1.2 TLSv1.3;
        #ssl_ciphers                 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384';
        #ssl_session_timeout         1d;
        #ssl_session_cache           shared:SSL:10m;
        #ssl_session_tickets         off;
        #ssl_stapling                on;
        #ssl_stapling_verify         on;


        add_header Strict-Transport-Security max-age=31536000;

        #Begin Extensions        
            add_header Feedback squidex_squidex_squidex;

        #End Extensions
        
        if ($country_block_cloudflare) {
            return 403; 
        }

            
       

        #Default Location
        location / {            
            proxy_pass http://squidex_squidex_squidex:5000;
            #proxy_redirect                 off;
                        proxy_set_header Host content.gago.io;
            proxy_set_header X-Forwarded-Host $host;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_redirect http:// https://;

            
            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
        
    }
    
    #############################################################
    # HTTPS binds for Container 94.130.137.141
    #############################################################
    server { 

        #Port to Mapping

        
        listen 443 ssl; 
        

        #Response for these domains
        server_name  jenkins.oragon.io;

        ssl_certificate             /cert/_/fullchain.pem;
        ssl_certificate_key         /cert/_/privkey.pem;
        ssl_trusted_certificate     /cert/_/fullchain.pem;
        ssl_protocols               TLSv1.2;
        ssl_prefer_server_ciphers   on;
        ssl_ciphers                 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA';        
        ssl_session_timeout         1d;
        ssl_session_cache           shared:SSL:50m;
        ssl_session_tickets         off;
        ssl_stapling                on;
        ssl_stapling_verify         on;


        #ssl_certificate             /cert/_/fullchain.pem;
        #ssl_certificate_key         /cert/_/privkey.pem;
        #ssl_trusted_certificate     /cert/_/fullchain.pem;
        #ssl_protocols               TLSv1.2 TLSv1.3;
        #ssl_ciphers                 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384';
        #ssl_session_timeout         1d;
        #ssl_session_cache           shared:SSL:10m;
        #ssl_session_tickets         off;
        #ssl_stapling                on;
        #ssl_stapling_verify         on;


        add_header Strict-Transport-Security max-age=31536000;

        #Begin Extensions        

        #End Extensions
        
        if ($country_block_cloudflare) {
            return 403; 
        }

            
       

        #Default Location
        location / {            
            proxy_pass http://94.130.137.141:8888;
            #proxy_redirect                 off;
                        pagespeed off;
            proxy_set_header   Host              $host;
            proxy_set_header   X-Real-IP         $remote_addr;
            proxy_set_header   X-Forwarded-For   $proxy_add_x_forwarded_for;
            proxy_set_header   X-Forwarded-Proto $scheme;

            
            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
        
    }
    
    #############################################################
    # HTTPS binds for Container tribo_dev_br
    #############################################################
    server { 

        #Port to Mapping

        
        listen 443 ssl; 
        

        #Response for these domains
        server_name  tribo.dev.br www.tribo.dev.br;

        ssl_certificate             /cert/_/fullchain.pem;
        ssl_certificate_key         /cert/_/privkey.pem;
        ssl_trusted_certificate     /cert/_/fullchain.pem;
        ssl_protocols               TLSv1.2;
        ssl_prefer_server_ciphers   on;
        ssl_ciphers                 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA';        
        ssl_session_timeout         1d;
        ssl_session_cache           shared:SSL:50m;
        ssl_session_tickets         off;
        ssl_stapling                on;
        ssl_stapling_verify         on;


        #ssl_certificate             /cert/_/fullchain.pem;
        #ssl_certificate_key         /cert/_/privkey.pem;
        #ssl_trusted_certificate     /cert/_/fullchain.pem;
        #ssl_protocols               TLSv1.2 TLSv1.3;
        #ssl_ciphers                 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384';
        #ssl_session_timeout         1d;
        #ssl_session_cache           shared:SSL:10m;
        #ssl_session_tickets         off;
        #ssl_stapling                on;
        #ssl_stapling_verify         on;


        add_header Strict-Transport-Security max-age=31536000;

        #Begin Extensions        

        #End Extensions
        
        if ($country_block_cloudflare) {
            return 403; 
        }

            
       

        #Default Location
        location / {            
            proxy_pass http://tribo_dev_br:80;
            #proxy_redirect                 off;
            
            
            #proxy_set_header X-Real-IP $http_x_forwarded_for;
            #add_header  Feedback $host;
        }

        #ACME-challenge
        location ^~ /.well-known/acme-challenge/ {
	        root /cert;
        }
        
    }
        




#############################################################
#
#        INCLUDES
#
#############################################################


   





}